define(["module","text"],function(a,b){"use strict";var c=a.config(),d=c.path||"../less/",e=c.rootPath,f={},g={_compile:function(a,b,c,d,e){a.render(b,c).then(function(a){e(a.css)},function(a){d(new Error("LESS parse error in "+err.filename+" on line "+err.line+", column "+err.column+": "+err.message))})},_injectCSS:function(a){var b=document.createElement("style");b.appendChild(document.createTextNode(a)),document.head.appendChild(b)},_build:function(a,c){var h=require.toUrl(d);if(!e)throw new Error("To use an optimizing LESS build, you must specify config.style.rootPath as an absolute URL.");var i=require.nodeRequire("less"),j=h+a;b.get(j,function(b){g._compile(i,b,{filename:j,syncImport:!0,env:"production",paths:[h],rootpath:e,compress:!0},c.error,function(b){f[a]=b,c(b)})})},_load:function(a,c){var e=require.toUrl(d),f=e+a;require(["less"],function(a){b.get(f,function(b){g._compile(a,b,{filename:f,env:"development",paths:[e],rootpath:e},c.error,function(a){g._injectCSS(a),c(a)})})})},load:function(a,b,c,d){d.isBuild?g._build(a,c):g._load(a,c)},write:function(a,c,d){c in f&&d("define('"+a+"!"+c+"', ['"+a+"'], function (style) { return style._injectCSS('"+b.jsEscape(f[c])+"');});\n")}};return g});
